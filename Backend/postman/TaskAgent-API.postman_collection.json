{
  "info": {
    "_postman_id": "taskagent-api-collection",
    "name": "TaskAgent API",
    "description": "Backend API for TaskAgent - manages jobs and companies for subcontractor scheduling",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5001",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Jobs",
      "item": [
        {
          "name": "Get Jobs (Allowed Companies Only)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jobs",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jobs"]
            },
            "description": "Get all jobs from allowed companies only. Jobs from disallowed companies are filtered out."
          }
        },
        {
          "name": "Get All Jobs (Unfiltered)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jobs/all",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jobs", "all"]
            },
            "description": "Get all jobs without filtering by company status. Admin endpoint."
          }
        },
        {
          "name": "Get Job by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jobs/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jobs", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "JOB-001"
                }
              ]
            },
            "description": "Get a specific job by its ID."
          }
        },
        {
          "name": "Get Jobs by Company",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jobs/by-company/:company",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jobs", "by-company", ":company"],
              "variable": [
                {
                  "key": "company",
                  "value": "Summit Development"
                }
              ]
            },
            "description": "Get all jobs for a specific company. Returns empty if company is disallowed."
          }
        },
        {
          "name": "Get Jobs by Location",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jobs/by-location/:location",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jobs", "by-location", ":location"],
              "variable": [
                {
                  "key": "location",
                  "value": "Denver"
                }
              ]
            },
            "description": "Get all jobs for a specific location. Filtered by allowed companies."
          }
        },
        {
          "name": "Create Job",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"JOB-999\",\n  \"title\": \"Concrete Pour - Foundation\",\n  \"description\": \"Pour foundation for new commercial building\",\n  \"company\": \"Summit Development\",\n  \"location\": \"Denver\",\n  \"address\": \"123 Main St, Denver, CO 80202\",\n  \"scheduleTime\": \"08:00\",\n  \"scheduleDate\": \"2026-02-15\",\n  \"createdAt\": \"2026-01-28T00:00:00Z\",\n  \"updatedAt\": null\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/jobs",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jobs"]
            },
            "description": "Create a new job."
          }
        },
        {
          "name": "Seed Jobs (Bulk)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"jobs\": [\n    {\n      \"id\": \"JOB-901\",\n      \"title\": \"Test Job 1\",\n      \"description\": \"Test description\",\n      \"company\": \"Summit Development\",\n      \"location\": \"Denver\",\n      \"address\": \"123 Test St\",\n      \"scheduleTime\": \"09:00\",\n      \"scheduleDate\": \"2026-02-20\",\n      \"createdAt\": \"2026-01-28T00:00:00Z\",\n      \"updatedAt\": null\n    },\n    {\n      \"id\": \"JOB-902\",\n      \"title\": \"Test Job 2\",\n      \"description\": \"Test description 2\",\n      \"company\": \"Atlas Crane\",\n      \"location\": \"Houston\",\n      \"address\": \"456 Test Ave\",\n      \"scheduleTime\": \"10:00\",\n      \"scheduleDate\": \"2026-02-21\",\n      \"createdAt\": \"2026-01-28T00:00:00Z\",\n      \"updatedAt\": null\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/jobs/seed",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jobs", "seed"]
            },
            "description": "Bulk insert multiple jobs at once. Use scripts/seed-jobs.cjs for generating test data."
          }
        },
        {
          "name": "Delete Job",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/jobs/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "jobs", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "JOB-999"
                }
              ]
            },
            "description": "Delete a job by ID."
          }
        }
      ],
      "description": "Endpoints for managing jobs/work orders."
    },
    {
      "name": "Companies",
      "item": [
        {
          "name": "Get All Companies",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/companies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies"]
            },
            "description": "Get all companies (both allowed and disallowed)."
          }
        },
        {
          "name": "Get Allowed Companies",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/companies/allowed",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies", "allowed"]
            },
            "description": "Get only companies that are allowed (IsAllowed = true)."
          }
        },
        {
          "name": "Get Company by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/companies/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "COMP-001"
                }
              ]
            },
            "description": "Get a specific company by its ID."
          }
        },
        {
          "name": "Get Company by Name",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/companies/by-name/:name",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies", "by-name", ":name"],
              "variable": [
                {
                  "key": "name",
                  "value": "Summit Development"
                }
              ]
            },
            "description": "Get a company by its name."
          }
        },
        {
          "name": "Get Companies by Industry",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/companies/by-industry/:industry",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies", "by-industry", ":industry"],
              "variable": [
                {
                  "key": "industry",
                  "value": "Concrete"
                }
              ]
            },
            "description": "Get all companies in a specific industry. Industries: Concrete, Crane, Hydrovac, Drilling, Hauling, Traffic Control, Pipe Services, Rail Services, General Construction."
          }
        },
        {
          "name": "Create Company",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": \"COMP-099\",\n  \"name\": \"Test Company Inc\",\n  \"isAllowed\": true,\n  \"industry\": \"General Construction\",\n  \"contactEmail\": \"info@testcompany.com\",\n  \"contactPhone\": \"(555) 123-4567\",\n  \"website\": \"https://www.testcompany.com\",\n  \"city\": \"Denver\",\n  \"state\": \"CO\",\n  \"licenseNumber\": \"CO-CON-123456\",\n  \"insuranceVerified\": true,\n  \"rating\": 4.5,\n  \"createdAt\": \"2026-01-28T00:00:00Z\",\n  \"updatedAt\": null\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/companies",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies"]
            },
            "description": "Create a new company."
          }
        },
        {
          "name": "Allow Company",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/companies/:id/allow",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies", ":id", "allow"],
              "variable": [
                {
                  "key": "id",
                  "value": "COMP-001"
                }
              ]
            },
            "description": "Set a company's IsAllowed status to true. Jobs from this company will be shown."
          }
        },
        {
          "name": "Disallow Company",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/companies/:id/disallow",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies", ":id", "disallow"],
              "variable": [
                {
                  "key": "id",
                  "value": "COMP-001"
                }
              ]
            },
            "description": "Set a company's IsAllowed status to false. Jobs from this company will be hidden."
          }
        },
        {
          "name": "Seed Companies (Bulk)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"companies\": [\n    {\n      \"id\": \"COMP-901\",\n      \"name\": \"Test Concrete Co\",\n      \"isAllowed\": true,\n      \"industry\": \"Concrete\",\n      \"contactEmail\": \"info@testconcrete.com\",\n      \"contactPhone\": \"(555) 111-2222\",\n      \"website\": \"https://www.testconcrete.com\",\n      \"city\": \"Phoenix\",\n      \"state\": \"AZ\",\n      \"licenseNumber\": \"AZ-CON-111111\",\n      \"insuranceVerified\": true,\n      \"rating\": 4.2,\n      \"createdAt\": \"2026-01-28T00:00:00Z\",\n      \"updatedAt\": null\n    },\n    {\n      \"id\": \"COMP-902\",\n      \"name\": \"Test Crane Services\",\n      \"isAllowed\": false,\n      \"industry\": \"Crane\",\n      \"contactEmail\": \"info@testcrane.com\",\n      \"contactPhone\": \"(555) 333-4444\",\n      \"website\": \"https://www.testcrane.com\",\n      \"city\": \"Dallas\",\n      \"state\": \"TX\",\n      \"licenseNumber\": \"TX-CON-222222\",\n      \"insuranceVerified\": false,\n      \"rating\": 3.8,\n      \"createdAt\": \"2026-01-28T00:00:00Z\",\n      \"updatedAt\": null\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/companies/seed",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies", "seed"]
            },
            "description": "Bulk insert multiple companies at once. Use scripts/seed-companies.cjs for generating test data."
          }
        },
        {
          "name": "Delete Company",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/companies/:id",
              "host": ["{{baseUrl}}"],
              "path": ["api", "companies", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "COMP-099"
                }
              ]
            },
            "description": "Delete a company by ID."
          }
        }
      ],
      "description": "Endpoints for managing companies/subcontractors."
    },
    {
      "name": "Health & Info",
      "item": [
        {
          "name": "Swagger UI",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/swagger",
              "host": ["{{baseUrl}}"],
              "path": ["swagger"]
            },
            "description": "Open Swagger UI to explore and test the API interactively."
          }
        },
        {
          "name": "OpenAPI Spec (JSON)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/swagger/v1/swagger.json",
              "host": ["{{baseUrl}}"],
              "path": ["swagger", "v1", "swagger.json"]
            },
            "description": "Get the OpenAPI specification in JSON format."
          }
        }
      ],
      "description": "Health checks and API documentation."
    }
  ]
}
