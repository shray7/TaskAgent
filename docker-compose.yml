services:
  api:
    build:
      context: ./Backend
      dockerfile: Dockerfile
    container_name: taskagent-api
    ports:
      - "5001:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ASPNETCORE_URLS=http://+:8080
      - DataStore__DatabaseName=TaskAgentDb

  file-service:
    build:
      context: ./FileService
      dockerfile: Dockerfile
    container_name: taskagent-file-service
    ports:
      - "5002:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - ASPNETCORE_URLS=http://+:8080
      - FileStorage__UseAzure=false
      - FileStorage__LocalPath=/app/uploads
    volumes:
      - file-uploads:/app/uploads

volumes:
  file-uploads:
